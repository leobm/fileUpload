<!DOCTYPE html>

<html>
<head>
	<title>fileUpload</title>

	<link rel="stylesheet" href="http://jquery-ui.googlecode.com/svn/tags/latest/themes/base/jquery-ui.css" type="text/css" media="all" />
	<link rel="stylesheet" href="http://static.jquery.com/ui/css/demo-docs-theme/ui.theme.css" type="text/css" media="all" />


	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.js"></script>

	<script type="text/javascript" src="../src/jquery.fileUpload.js"></script>
	

<style>

</style>
</head> 

<body>

<form id="test1" action="../server/test.php">
	Normal upload<br />
	<input type="file" name="first" /><br />
</form>

<form id="test2" action="../server/test.php">
	Multiple files upload<br />
	<input type="file" name="second" multiple="multiple"/><br />
</form>

<form id="test3" action="../server/test.php">
	Flash upload<br />
	<input type="file" name="third" id="third" class="flash" /><br />
</form>

<div id="file_list"></div>
<div id="progressbar"></div>



<script type="text/javascript">

var $bar = $('#progressbar').progressbar();
$bar.progressbar('value', 0);
    
$('#test1').fileUpload({
  runtime: 'iframe',
  progress: function(pr, xhr) {

    $bar.progressbar('value', 100*pr.loaded/pr.total);
  },
  success: function(r){
    var href = '/fileupload/server/files/' + r.filename;
    $('<a href="'+href+'" target="_blank">'+r.filename+'</a><br />').appendTo('#file_list');
  },
  completeall: function(r) {
    console.log("completeall",r);
  }
});
$('#test2').fileUpload({
  runtime: 'html5',
  progress: function(pr, xhr) {

    $bar.progressbar('value', 100*pr.loaded/pr.total);
  },
  success: function(r){
    var href = '/fileupload/server/files/' + r.filename;
    $('<a href="'+href+'" target="_blank">'+r.filename+'</a><br />').appendTo('#file_list');
  },
  completeall: function(r) {
    console.log("completeall",r);
  }
});

$('#test3').fileUpload({
  runtime: 'flash',
  progress: function(pr, xhr) {
    $bar.progressbar('value', 100*pr.loaded/pr.total);
  },
  success: function(r){
    var href = '/fileupload/server/files/' + r.filename;
    $('<a href="'+href+'" target="_blank">'+r.filename+'</a><br />').appendTo('#file_list');
  },
  completeall: function(r) {
    console.log("completeall",r);
  }
});
</script>

</body>
</html>